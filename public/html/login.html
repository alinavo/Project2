<!DOCTYPE html>
<html>

<head>
    <title>PHREEadelphia Member Signup</title>
    <meta name="viewport" content="width = device-width, initial-scale = 1">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.1/dist/css/foundation.min.css"
        integrity="sha256-1mcRjtAxlSjp6XJBgrBeeCORfBp/ppyX4tsvpQVCcpA= sha384-b5S5X654rX3Wo6z5/hnQ4GBmKuIJKMPwrJXn52ypjztlnDK2w9+9hSMBz/asy9Gw sha512-M1VveR2JGzpgWHb0elGqPTltHK3xbvu3Brgjfg4cg5ZNtyyApxw/45yHYsZ/rCVbfoO5MSZxB241wWq642jLtA=="
        crossorigin="anonymous">

    <!-- Compressed JavaScript -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/vendor/jquery.min.js"></script>

    <script src="https://cdn.jsdelivr.net/npm/foundation-sites@6.5.1/dist/js/foundation.min.js"
        integrity="sha256-WUKHnLrIrx8dew//IpSEmPN/NT3DGAEmIePQYIEJLLs= sha384-53StQWuVbn6figscdDC3xV00aYCPEz3srBdV/QGSXw3f19og3Tq2wTRe0vJqRTEO sha512-X9O+2f1ty1rzBJOC8AXBnuNUdyJg0m8xMKmbt9I3Vu/UOWmSg5zG+dtnje4wAZrKtkopz/PEDClHZ1LXx5IeOw=="
        crossorigin="anonymous"></script>
</head>

<body>
    <center>
        <h2>Become a Member!</h2>
    
    </center>
    <form>
        <!-- <div data-abide-error class="alert callout" style="display: none;">
            <p><i class="fi-alert"></i> There are some errors in your form.</p>
        </div> -->

        <div class="row">
            <div class="large-4 columns">
                <label>Full Name
                    <input type="text" placeholder="" id="name" required>
                    <span class="form-error">* Required Field</span>
                </label>

                <label>Email
                    <input type="text" placeholder="abc@email.com" id="email" required>
                    <span class="form-error">* Please enter a valid email</span>
                </label>

                <label>Password
                    <input type="text" placeholder="" id="password" required>
                    <span class="form-error">* Required Field</span>
                </label>

                <label>Zip Code
                    <input type="text" id="zip" placeholder="00000" id="location" required>
                    <span class="form-error">* Please enter a valid zip code </span>
                </label>


            </div>
        </div>
        <!-- Existing Member Sign-in -->
        <p class="form-registration-member-signin">Already a member? <a href="../html/exisitingMember.html">Sign in</a></p>
        <!-- Terms & Privacy -->
        <p class="form-registration-terms"><a href="#">Terms &amp; Conditions</a> | <a href="#">Privacy</a></p>
        <br>
        <!-- Join Button Fixed -->
        <button class="newUser">Join!</button>


    </form>

    <style>
        form {
            margin: auto;
            width: 300px;
        }

        h2 {
            padding-top: 200px;
        }
    </style>

    <script type="text/javascript">

        console.log('hello!');

        $(document).ready(function(){

            console.log('hello part 2!');

            var nameInput = $("#name");
            var emailInput = $("#email");
            var passwordInput = $("#password");
            var zipcodeInput = $("#zip");

            $(".newUser").on("click", function(event) {
                event.preventDefault();

                console.log("hello part 3!")

                var newUser = {
                    name: nameInput.val().trim(),
                    email: emailInput.val().trim(),
                    password: passwordInput.val().trim(),
                    location: zipcodeInput.val().trim()
                };

                console.log(newUser);

                $.post("/api/new_user", newUser, function(data) {
                    console.log(data);
                    window.location.href = "/member";
                });
            });
        });

    </script>

</body>

</html>