<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Phreedelphia | Give</title>
    <link rel="stylesheet" href="https://dhbhdrzi4tiry.cloudfront.net/cdn/sites/foundation.min.css">
    <!-- <link rel="stylesheet" href="newItem.css"> -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/foundation/6.0.1/js/vendor/jquery.min.js"></script>

</head>

<body>

    <div class="top-bar">
        <div class="top-bar-left">
            <ul class="menu">
                <li class="menu-text">Phreedelphia</li>
                <li><a href="#">Marketplace</a></li>
                <li><a href="#">Add Item</a></li>
            </ul>
        </div>
        <div class="top-bar-right">
            <ul class="menu">
                <li><a href="#">My Profile</a></li>

            </ul>
        </div>
    </div>

    <div class="orbit" role="region" aria-label="Favorite Space Pictures" data-orbit>
        <ul class="orbit-container">
            <center>
                <h1>Give Item</h1>
            </center>
            

            

            <form class="form">

                <div class="form-group" class="data-name">
                    <label class="label"><b> Item Name
                        </b></label>
                    <input id="name" placeholder="Item name" required class="input" />
                </div>
                

                

                <div class="form-group" class="data-description">
                    <label>
                        <label class="label"><b id="data-description"> Description
                            </b></label>
                        <textarea placeholder="None" rows="5" required class="input" id="description"></textarea>
                    </label>

                </div>




                <div class="form-group" id="data-location">
                    <label class="label"><b id="data-location">Location
                        </b></label>
                    <input type="number" required placeholder="00000" class="input" id="location"/> </div>
                <div class="form-group">
                    <div class="form-group" id="data-condition">
                        <label class="label"><b id="condition">Condition
                            </b></label>
                    </div>
                    <select required name="Condition" class="select" id="condition">
                        <option value="">- Select option -</option>
                        <option value="New">New</option>
                        <option value="Like New">Like New</option>
                        <option value="Good">Good</option>
                        <option value="Fair">Fair</option>
                        <option value="Poor">Poor</option>
                    </select>



                    <div class="item-heavy">
                        <b>Is your item...
                        </b>
                    </div>
                    Heavy?
                    <input type="checkbox" name="Heavy" id="Heavy" class="checkbox" />
                    Fragile?
                    <input type="checkbox" name="Fragile" id="Fragile" class="checkbox" />

                    

                    

                    <div class="form-group" id="submitBtn">
                        <button type="submit" class="button">Submit</button>
                    </div>
            </form>



            <style>
                form {
                    color: black;
                    margin: auto;
                    width: 500px;

                }

                h1 {
                    padding-top: 100px;
                }

                .input {
                    height: 30px;
                    width: 500px;
                }

                /* takes out scrolling element on number */
                input[type=number]::-webkit-inner-spin-button,
                input[type=number]::-webkit-outer-spin-button {
                    -webkit-appearance: none;
                    margin: 0;
                }
            </style>

            <script>


                $("#submitBtn").on("click", function (event) {
                    event.preventDefault();
                    console.log("hello part 3!")

                    var itemName = $("#name").val().trim();
                    var itemLocation = $("#location").val().trim();
                    var itemCondition = $("select#condition option:checked").val().trim();
                    var itemDescription = $("#description").val().trim();
                    var userID = localStorage.getItem("id");

                    var newItem = {
                        post_title: itemName,
                        location: itemLocation,
                        item_condition: itemCondition,
                        post_body: itemDescription,
                        UserId: userID,
                        active_listing: true
                    };

                    console.log(newItem);
                    

                $.post("/api/list", newItem, function (data) {
                     console.log(data);
                     window.location.href = "/marketplace";
                  });
                });









            </script>

</body>

</html>
